"use strict";function main_blurry_effect(){main_container.classList.toggle("pressed_blurry_effect"),footer.classList.toggle("pressed_blurry_effect")}function header_blurr_effect(){account_state_clicked.classList.toggle("login_state_clicked_active"),header_blocks.forEach(e=>{e.classList.toggle("pressed_blurry_effect")}),window.innerWidth<=991&&header_headline.classList.toggle("pressed_blurry_effect")}function field_display_logic(e,t,o,c){e.style.display="none";let n=t.querySelector("p");n.textContent="",o.style.display="flex",c.style.display="block",t.classList.add("mainblocks_responsive"),t===acc_login_field?(document.querySelector(".mainblocks_responsive").style.backgroundColor="#10a2f2",t.classList.remove("acc_login")):(document.querySelector(".mainblocks_responsive").style.backgroundColor="#066f8b",t.classList.remove("acc_create")),t.classList.remove("hover_effect")}function info_icon_logic(){main_container.classList.toggle("pressed_blurry_effect"),footer.classList.toggle("pressed_blurry_effect"),header_default.classList.toggle("pressed_blurry_effect"),info_box.classList.toggle("info_box_active")}function eye_icon_logic(e,t){return e.type="password"===t?"text":"password",0===klicked?(pw_eye_icon.textContent="👁",void klicked++):(pw_eye_icon.textContent="👁‍🗨",void klicked--)}function isAlreadyLoggedIn(e){const t=JSON.parse(localStorage.getItem("loginToken"));return t&&t.username===e}function setLoginToken(e){const t={username:e};localStorage.setItem("loginToken",JSON.stringify(t)),console.log("Token gesetzt:",t)}let acc_token=JSON.parse(localStorage.getItem("loginToken")),login_checker_token=localStorage.getItem("loginCheckerToken"),header_default=document.querySelector("header"),main_container=document.querySelector(".main_container"),header_blocks=document.querySelectorAll(".header_blocks_default"),header_headline=document.querySelector(".header_headline"),footer=document.querySelector("footer"),account_state=document.querySelector(".login_state"),account_state_clicked=document.querySelector(".login_state_clicked"),ausloggen=document.querySelector(".ausloggen"),ausloggen_abrechen=document.querySelector(".abrechen");window.addEventListener("load",()=>{header_headline.addEventListener("click",()=>{header_default.classList.toggle("pressed"),header_headline.classList.toggle("header_headline_pressed"),header_blocks.forEach(e=>{e.classList.toggle("pressed_header_blocks")}),main_blurry_effect()}),acc_token?(account_state.classList.add("login_state_loggedIn"),account_state.innerText="eingeloggt"):(ausloggen.innerText="einloggen",ausloggen.style.backgroundColor="#51c151"),login_checker_token&&("acc_create"===login_checker_token?(field_display_logic(acc_login_field,acc_create_field,acc_create_formular,acc_create_formular_button),localStorage.removeItem("loginCheckerToken")):(field_display_logic(acc_create_field,acc_login_field,acc_login_form,form_login_button),localStorage.removeItem("loginCheckerToken")))}),account_state.addEventListener("click",()=>{window.innerWidth>991?(header_blurr_effect(),main_blurry_effect()):header_blurr_effect()}),ausloggen.addEventListener("click",()=>{acc_token?(localStorage.removeItem("loginToken"),alert("Erfolgreich ausgeloggt!"),window.location.reload()):(alert("Ab gehts zur Login Seite!"),localStorage.setItem("loginCheckerToken","acc_login"),window.location.href="account.html")}),ausloggen_abrechen.addEventListener("click",()=>{window.innerWidth>991?(header_blurr_effect(),main_blurry_effect()):header_blurr_effect()});let acc_create_field=document.querySelector(".acc_create"),acc_create_formular=document.querySelector(".acc_create_form"),info_icon=document.querySelector(".pw_infos"),info_box=document.querySelector(".info_box"),info_checked_button=document.querySelector(".infos_checked_button"),pw_generator_icon=document.querySelector(".pw_generator"),pw_eye_icon=document.querySelector(".pw_auge");acc_create_field.addEventListener("click",()=>{field_display_logic(acc_login_field,acc_create_field,acc_create_formular,acc_create_formular_button)});let acc_login_field=document.querySelector(".acc_login"),acc_login_form=document.querySelector(".acc_login_form"),form_login_button=document.querySelector(".form_login_button"),pw_auge_login=document.querySelector(".pw_auge_login");acc_login_field.addEventListener("click",()=>{field_display_logic(acc_create_field,acc_login_field,acc_login_form,form_login_button)}),info_icon.addEventListener("click",()=>{info_icon_logic()}),info_checked_button.addEventListener("click",()=>{info_icon_logic()}),pw_generator_icon.addEventListener("click",()=>{const e=4,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+~`|}{[]:;?><,./-=";let o="";for(let c=0,n=t.length;c<e;++c)o+=t.charAt(Math.floor(Math.random()*n));document.querySelector("#password").value=o});let klicked=0;pw_eye_icon.addEventListener("click",()=>{const e=document.querySelector("#password"),t=e.type;eye_icon_logic(e,t)}),pw_auge_login.addEventListener("click",()=>{const e=document.querySelector("#password_login"),t=e.type;eye_icon_logic(e,t)});let acc_create_formular_button=document.querySelector(".form_create_button");acc_create_formular_button.addEventListener("click",e=>{let t=document.querySelector("#name").value,o=document.querySelector("#password").value;if(!t||!o)return e.preventDefault(),void alert("Bitte Benutzername und Passwort eingeben.");{let e=JSON.parse(localStorage.getItem("accounts"))||[];const c={username:t,password:o};e.push(c),localStorage.setItem("accounts",JSON.stringify(e)),alert("Account gespeichert!")}});let acc_login_form_button=document.querySelector(".form_login_button");acc_login_form_button.addEventListener("click",e=>{let t=document.querySelector("#name_login").value,o=document.querySelector("#password_login").value;if(t&&o){let c=JSON.parse(localStorage.getItem("accounts"))||[];const n=c.find(e=>e.username===t&&e.password===o);return n?isAlreadyLoggedIn(t)?(e.preventDefault(),alert("Dieser Benutzer ist bereits eingeloggt."),!1):(alert("Login erfolgreich!"),setLoginToken(t),!0):(e.preventDefault(),alert("Login fehlgeschlagen: Benutzername oder Passwort ist falsch."),!1)}return e.preventDefault(),void alert("Bitte Benutzername und Passwort eingeben.")});