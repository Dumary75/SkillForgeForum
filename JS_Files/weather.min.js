"use strict";function main_blurry_effect(){main_container.classList.toggle("pressed_blurry_effect"),footer.classList.toggle("pressed_blurry_effect")}function header_blurr_effect(){account_state_clicked.classList.toggle("login_state_clicked_active"),header_blocks.forEach(e=>{e.classList.toggle("pressed_blurry_effect")}),window.innerWidth<=991&&header_headline.classList.toggle("pressed_blurry_effect")}function check_search_input(){let e=search_input.value;if(""===e)alert("Bitte zuerst etwas in der Suchleiste reinschreiben!");else{let t=e.toLowerCase().trim(),r=localStorage.getItem("weather_city")||[];r&&localStorage.setItem("weather_city",t)}big_box_city.innerText=e,get_weather_data()}function translateDescription(e){let t={803:"Aufgelockerte Bewölkung",800:"Klarer Himmel",801:"Leicht bewölkt",200:"Gewitter mit leichtem Regen",201:"Gewitter mit Regen",202:"Gewitter mit starkem Regen",230:"Gewitter mit leichtem Nieselregen",231:"Gewitter mit Nieselregen",232:"Gewitter mit starkem Nieselregen",233:"Gewitter mit Hagel",300:"Leichter Nieselregen",301:"Nieselregen",302:"Starker Nieselregen",500:"Leichter Regen",501:"Mäßiger Regen",502:"Starker Regen",511:"Eisregen",520:"Leichter Regenschauer",521:"Regenschauer",522:"Starker Regenschauer",600:"Leichter Schnee",601:"Schnee",602:"Starker Schnee",610:"Schneeregen",611:"Schneeregen/Schneematsch",612:"Starker Schneeregen/Schneematsch",621:"Schneeschauer",622:"Starker Schneeschauer",623:"Schneetreiben",700:"Nebel",711:"Rauch",721:"Dunst",731:"Sand/Staub",741:"Nebel",751:"Gefrierender Nebel",802:"Verstreute Wolken",804:"Bedeckter Himmel",900:"Unbekannte Niederschläge"};return t[e]||e}function icon_select(e){let t={200:"⛈️",201:"⛈️",202:"⛈️",230:"⛈️",231:"⛈️",232:"⛈️",233:"⛈️",300:"🌧️",301:"🌧️",302:"🌧️",500:"🌧️",501:"🌧️",502:"🌧️",511:"🌧️",520:"🌧️",521:"🌧️",522:"🌧️",600:"🌨️",601:"🌨️",602:"🌨️",610:"🌨️",611:"🌧️",612:"🌧️",621:"🌨️",622:"❄️",623:"❄️",700:"🌫️",711:"🌫️",721:"🌫️",731:"🌫️",741:"🌫️",751:"🌫️",800:"☀️",801:"🌤️",802:"⛅️",803:"🌥️",804:"☁️",900:"🌧️"};return t[e]}function switch_mounth_dynamic(e){switch(e){case 1:return"Januar";case 2:return"Februar";case 3:return"März";case 4:return"April";case 5:return"Mai";case 6:return"Juni";case 7:return"Juli";case 8:return"August";case 9:return"September";case 10:return"Oktober";case 11:return"November";case 12:return"Dezember"}}function switch_day_dynamic(e){let t=e%7;switch(t){case 1:return"MO";case 2:return"DIE";case 3:return"MI";case 4:return"DO";case 5:return"FR";case 6:return"SA";case 0:return"SO"}}function get_weather_data(){let e=localStorage.getItem("weather_city"),t=`${url}?city=${e}&country=DE&key=${api_key}`,r=`${url_forecast}?city=${e}&country=DE&key=${api_key}`,c=document.querySelector(".small_box_container");fetch(t).then(e=>e.json()).then(e=>{big_box_logo.innerText=icon_select(e.data[0].weather.code);let t=e.data[0].temp;big_box_celcius.innerText=`${t} Cº`,big_box_weather_text.innerText=translateDescription(e.data[0].weather.code);let r=e.data[0].ob_time,[c,n]=r.split(" "),[a,i,l]=c.split("-"),o=`${l}.${i}.${a}`,s=`${o} ${n}`;big_box_datum.innerText=s}).catch(e=>console.error("Fehler!",e)),fetch(r).then(e=>e.json()).then(e=>{c.innerHTML="";for(let t=1;t<4;t++){let r=document.createElement("div");r.classList.add("testklasse");let n=document.createElement("span");n.innerText=icon_select(e.data[t].weather.code);let a=e.data[t].min_temp,i=e.data[t].max_temp,l=document.createElement("p");l.innerText=` ${a} /  ${i}`;let o=new Date,s=o.getMonth()+1,_=switch_mounth_dynamic(s),u=o.getDate()+t,d=document.createElement("p");d.innerText=`${u} ${_}`;let h=o.getDay(),g=document.createElement("p");g.innerText=switch_day_dynamic(h+t),r.appendChild(n),r.appendChild(l),r.appendChild(d),r.appendChild(g),c.appendChild(r),aufruf++}}).catch(e=>console.error("Fehler!",e))}let acc_token=JSON.parse(localStorage.getItem("loginToken")),header_default=document.querySelector("header"),main_container=document.querySelector(".main_container"),header_blocks=document.querySelectorAll(".header_blocks_default"),header_headline=document.querySelector(".header_headline"),footer=document.querySelector("footer"),account_state=document.querySelector(".login_state"),account_state_clicked=document.querySelector(".login_state_clicked"),ausloggen=document.querySelector(".ausloggen"),ausloggen_abrechen=document.querySelector(".abrechen"),logged_site_blocker=document.querySelector(".login_checker"),side_blocker_login=document.querySelector(".acc_login"),side_blocker_create=document.querySelector(".acc_create");window.addEventListener("load",()=>{acc_token?(account_state.classList.add("login_state_loggedIn"),account_state.innerText="eingeloggt",header_headline.addEventListener("click",()=>{header_default.classList.toggle("pressed"),header_headline.classList.toggle("header_headline_pressed"),header_blocks.forEach(e=>{e.classList.toggle("pressed_header_blocks")}),main_blurry_effect()})):(main_blurry_effect(),header_blocks.forEach(e=>{e.classList.toggle("pressed_blurry_effect")}),window.innerWidth<=991&&header_headline.classList.toggle("pressed_blurry_effect"),logged_site_blocker.classList.add("login_checker_active"),side_blocker_login.addEventListener("click",()=>{localStorage.setItem("loginCheckerToken","acc_login"),window.location.href="account.html"}),side_blocker_create.addEventListener("click",()=>{localStorage.setItem("loginCheckerToken","acc_create"),window.location.href="account.html"}))}),account_state.addEventListener("click",()=>{window.innerWidth>991?(header_blurr_effect(),main_blurry_effect()):header_blurr_effect()}),ausloggen.addEventListener("click",()=>{localStorage.removeItem("loginToken"),alert("Erfolgreich ausgeloggt!"),window.location.reload()}),ausloggen_abrechen.addEventListener("click",()=>{window.innerWidth>991?(header_blurr_effect(),main_blurry_effect()):header_blurr_effect()});let search_input=document.querySelector(".search input"),search_button=document.querySelector(".search button"),big_box_logo=document.querySelector(".big_box span"),big_box_celcius=document.querySelector(".big_ceclius"),big_box_weather_text=document.querySelector(".big_wetter_text"),big_box_city=document.querySelector(".big_city"),big_box_datum=document.querySelector(".big_datum"),url="https://api.weatherbit.io/v2.0/current",api_key="b71b8690ce644d4694d5f706ebb38609",url_forecast="https://api.weatherbit.io/v2.0/forecast/daily",aufruf=0;search_button.addEventListener("click",check_search_input);